function initTabToggle(){$("a[tab-toggle=tab]").click(function(){$(".tab-pane").hide();$($(this).attr("tab-show")).show();$(this).parent().parent().children().removeClass("active");$(this).parent().addClass("active")})}function initCheckbox(){$("input[ckb-name]").click(function(){var n=$(this).attr("ckb-name");$(this).get(0).checked?$("input[name='"+n+"']").prop("checked",!0):$("input[name='"+n+"']").prop("checked",!1)})}function initTab(){var t=window.location.href.split("#"),n=t[1];conLog(n);t.length==2&&($(".tab-pane").hide(),$("#"+n).show(),$("a[tab-show='#"+n+"']").parent().parent().children().removeClass("active"),$("a[tab-show='#"+n+"']").parent().addClass("active"))}function showAlertContainer(n,t,i,r){n.children().eq(1).html(t);n.show();setTimeout(function(){n.hide();r!=undefined&&r!=""&&eval(r)},i)}function hideAlertContainer(n){$("#"+n).hide()}function ufnTimer(n,t){n==0?eval(t):(n=n-1,setTimeout('ufnTimer("'+n+'","'+t+'")',1e3))}function showBtAlert(n){$("#alertContent").html(n);$("#alertModal").addClass("in")}function showPrAlert(n,t){$("#alertContainer").children().eq(1).html(n);$("#alertContainer").show();t==null&&(t=1e3);setTimeout(function(){$("#alertContainer").hide()},t)}function showAlert(n){showPrAlert(n,1e3)}function conLog(n){console.log(n)}function errorImg(n){if(n.src.indexOf("http://file.maike360.com")>=0){var t=n.src.replace("http://file.maike360.com","");n.src=t;$(n).removeAttr("onerror")}}function initJqDate(n){n.size()>0&&n.datepicker({closeText:"关闭",prevText:"<上月",nextText:"下月>",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年",showOtherMonths:!0,selectOtherMonths:!0,changeYear:!0,changeMonth:!0})}function scrollData(n,t,i,r){function e(){i.offsetTop-n.scrollTop<=0||u>n.scrollTop?(n.scrollTop=0,u=0):(n.scrollTop++,u++)}var u,f;i.innerHTML=t.innerHTML;u=0;f=window.setInterval(e,r);n.onmouseover=function(){clearInterval(f)};n.onmouseout=function(){f=setInterval(e,r)}}function scrollDataByJquery(n,t){function e(){f.offsetTop-i.scrollTop<=0||r>i.scrollTop?(i.scrollTop=0,r=0):(i.scrollTop++,r++)}var o=n.children().eq(0),s=n.children().eq(1),i=n[0],h=o[0],f=s[0],r,u;f.innerHTML=h.innerHTML;r=0;u=window.setInterval(e,t);i.onmouseover=function(){clearInterval(u)};i.onmouseout=function(){u=setInterval(e,t)}}function toDecimal2(n){var r=parseFloat(n);if(isNaN(r))return!1;var r=Math.round(n*100)/100,t=r.toString(),i=t.indexOf(".");for(i<0&&(i=t.length,t+=".");t.length<=i+2;)t+="0";return t}function showAlertCallBack(n,t){showAlertContainer($("#alertContainer"),n,1e3,t)}function showAlert(n){showAlertContainer($("#alertContainer"),n,1e3)}function getUrlParam(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(i);return t!=null?unescape(t[2]):null}function getTpUrlParam(n){var t="/"+n+"/",i;return window.location.href.indexOf(t)>0?(i=window.location.href.split(t),i[1].split("/")[0]):null}function getTpUrlParamLater(n){var u="/"+n+"/",i,r,t;if(window.location.href.indexOf(u)>0){for(i=window.location.href.split(u),r="",t=1;t<i.length;t++)r+=i[t];return r}return null}function isPlaceholder(){var n=document.createElement("input");return"placeholder"in n}function initPlaceholder(){isPlaceholder()||$(document).ready(function(){var t;if(!isPlaceholder()){$("input").not("input[type='password']").each(function(){$(this).val()==""&&$(this).attr("placeholder")!=""&&($(this).val($(this).attr("placeholder")),$(this).focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")}),$(this).blur(function(){$(this).val()==""&&$(this).val($(this).attr("placeholder"))}))});var n=$("input[type=password]"),i=n.attr("placeholder"),r=n.attr("class");n.after('<input id="pwdPlaceholder" class="'+r+'" type="text" value='+i+' autocomplete="off" />');t=$("#pwdPlaceholder");t.show();n.hide();t.focus(function(){t.hide();n.show();n.focus()});n.blur(function(){n.val()==""&&(t.show(),n.hide())})}})}function uaredirect(n){var t,i,r,u;try{if(document.getElementById("bdmark")!=null)return;t=!1;arguments[1]?(i=window.location.host,r=window.location.href,isSubdomain(arguments[1],i)==1?t=!0:isSubdomain(arguments[1],i)==2?t=!0:(n=r,t=!1)):t=!0;t&&(u=window.location.hash,u.match("fromapp")||navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)&&location.replace(n))}catch(f){}}function isSubdomain(n,t){var n,i,r;return this.getdomain=function(n){var i=n.indexOf("://"),t,r;return t=i>0?n.substr(i+3):n,r=/^www\./,r.test(t)&&(t=t.substr(4)),t},n==t?1:(n=this.getdomain(n),i=this.getdomain(t),n==i?1:(n=n.replace(".","\\."),r=new RegExp("\\."+n+"$"),i.match(r)?2:0))}function initConfirmAlert(n,t,i){var r="";r+='<div id="ConfirmContainer" class="alertContainer" style="display:none">';r+='<div class="pop-up-box"><\/div>';r+='<div class="pop-conf wid-4" style="padding: 0;">';r+='<div class="pop-conf-title">'+n+"<\/div>";r+='<div class="pop-conf-content">';r+=t;r+="<\/div>";r+='<div class="pop-conf-button">';i==undefined?r+='<a onclick="HideAllContainer()">确定<\/a>':$.each(i,function(n,t){r+='<a onclick="'+t.func+'">'+t.title+"<\/a>"});r+="<\/div>";r+="<\/div>";r+="<\/div>";$("body").append(r);$(".pop-up-box").click(function(){$(".alertContainer").hide()})}function HideAllContainer(){$(".alertContainer").hide()}function CanvasCompress(n,t,i,r){var f=n.currentTarget.files[0],u=new FileReader;u.onload=function(n){var u=$("<img/>");u.on("load",function(){var n,e,h;t==0&&i==0?(t=100,i=100):t==0?t=i/this.height*this.width:i==0&&(i=t/this.width*this.height);n=document.createElement("canvas");n.width=t;n.height=i;e=n.getContext("2d");e.clearRect(0,0,t,i);var u,f,o=0,s=0,c=this.width/t,l=this.height/i;c>l?(u=Math.round(i*this.width/this.height),f=i,o=-Math.round((u-t)/2)):(f=Math.round(t*this.height/this.width),u=t,s=-Math.round((f-i)/2));e.drawImage(this,o,s,u,f);h=n.toDataURL("image/jpeg");r(h)});u.attr("src",n.target.result)};u.readAsDataURL(f)}function CanvasImgCompress(n,t,i,r){var u=$("<img/>");u.on("load",function(){var n,e,h;t==0&&i==0?(t=100,i=100):t==0?t=i/this.height*this.width:i==0&&(i=t/this.width*this.height);n=document.createElement("canvas");n.width=t;n.height=i;e=n.getContext("2d");e.clearRect(0,0,t,i);var u,f,o=0,s=0,c=this.width/t,l=this.height/i;c>l?(u=Math.round(i*this.width/this.height),f=i,o=-Math.round((u-t)/2)):(f=Math.round(t*this.height/this.width),u=t,s=-Math.round((f-i)/2));e.drawImage(this,o,s,u,f);h=n.toDataURL("image/jpeg");r(h)});u.attr("src",n)}function isCanvasSupported(){var n=document.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))}function CanvasRotate(n,t){var i=$("<img/>");i.on("load",function(){var n=document.createElement("canvas"),i,r;n.width=this.height;n.height=this.width;i=n.getContext("2d");i.clearRect(0,0,n.width,n.height);i.translate(Math.round(n.width),Math.round(0));i.rotate(.5*Math.PI);i.drawImage(this,0,0,n.height,n.width);r=n.toDataURL("image/jpeg");t(r)});i.attr("src",n)}function CanvasReader(n,t){var r=n.currentTarget.files[0],i=new FileReader;i.onload=function(n){var i=$("<img/>");i.on("load",function(){var n=document.createElement("canvas"),i,r;n.width=this.width;n.height=this.height;i=n.getContext("2d");i.clearRect(0,0,this.width,this.height);i.drawImage(this,0,0,this.width,this.height);r=n.toDataURL("image/jpeg");t(r)});i.attr("src",n.target.result)};i.readAsDataURL(r)}function blobSlice(n,t,i){return n.slice?n.slice(t,i):n.mozSlice?n.mozSlice(t,i):n.webkitSlice?n.webkitSlice(t,i):null}function createXHR(){var t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXobject=="undefined")throw new Error(" not support ");if(typeof arguments.callee.activeString!="string")for(t=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp3.0","MSXML2.XMLHttp"],n=0;n<t.length;n++)try{new ActiveXobject(t[n]);arguments.callee.activeString=t[n];break}catch(i){}return new ActiveXobject(arguments.callee.activeString)}function uploadSliceFile(n,t,i,r){function s(n){var t=new FormData;for(var i in n)t.append(i,n[i]);return t}var e,f,o,u;if(n==undefined){alert("至少选择一个文件！");return}i==undefined&&(i=0);r==undefined&&(r=131072);f=createXHR();o=Date.now();u={startbyte:i,loadsize:r,totalsize:n.size,filetype:n.type,filename:n.name,key:o};u.fileid=Date.now();u.suffix=n.name.substr(n.name.lastIndexOf("."));u[o]=blobSlice(n,u.startsize,u.startbyte+u.loadsize);e=s(u);f.open("post",t);f.onload=function(){if(this.status==200){var i=JSON.parse(f.responseText);i.complete?i.complete&&(isUpload=!1):(u.startbyte=i.nextbyte,u.loadsize=i.loadsize,u[o]=blobSlice(n,u.startbyte,u.startbyte+i.loadsize),e=s(u),setTimeout(function(){f.open("post",t);f.send(e)},1e3))}};f.send(e);isUpload=!0}